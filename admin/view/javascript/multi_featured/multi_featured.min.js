/**
 * Multiple Featured Module Pro
 * 
 * @author  Kyo (AKA Yasuhiro Sota)
 * @version 3.2.2
 * @license Commercial License
 * @package admin
 * @subpackage  admin.view.javascript.multi_featured
 */
(function(b){b.ModuleMultiFeatured=function(){};b.ModuleMultiFeatured.prototype={translations:{entry_name:"",entry_title:"",entry_title_link:"",entry_product:"",entry_incl_dab_prods:"",entry_product_list:"",entry_disp_oos_prods:"",entry_random_products:"",text_random_products_0:"",text_random_products_1:"",text_random_products_2:"",entry_stores:"",entry_access_levels:"",text_check_all:"",text_uncheck_all:"",entry_template:"",entry_use_default_template:"",entry_stylesheet:"",entry_use_default_stylesheet:"",entry_javascript:"",entry_params:"",entry_limit:"",entry_width:"",entry_height:"",entry_status:"",help_name:"",help_title:"",help_title_link:"",help_product:"",help_product_list:"",help_stores:"",help_access_levels:"",help_template:"",help_stylesheet:"",help_javascript:"",help_params:"",text_featured_content:"",text_confirm_delete_product_list:"",text_content_top:"",text_content_bottom:"",text_column_left:"",text_column_right:"",text_enabled:"",text_disabled:"",button_remove:""}};function a(c){var d=new b.ModuleMultiFeatured();if(!d.translations[c]){return c}return d.translations[c]}b.extend({multiFeatured:{settings:{oc_version:"",translations:{},languages:[],primary_language:[],stores:[],customer_groups:[],image_base_url:"view/image/multi_featured/",button_class:"button",is_mijoshop:false,module_limit:4,module_image:{width:200,height:200},beforeInit:function(){},afterInit:function(){}},init:function(j,h){var k=this;var d=b(j);b(".ajax-loader").show();if(!k.validateMaxInputvars()){b(".ajax-loader").hide();return false}h=h||{};if(h){b.extend(k.settings,h)}k.settings.beforeInit.call();var g=new b.ModuleMultiFeatured();b.extend(g.translations,h.translations);k.initFeaturedProductLists();if(k.version_compare(k.settings.oc_version,"2.0.1.0","<")){k.initModule()}var f=b("#vtabs");b(window).load(function(){k.setVtabsHeight();k.setVtabsStyles()});b(window).resize(function(){k.setVtabsHeight();k.setVtabsStyles()});var e=b("#module_id").val();if(e){var c=b(".input-hidden-module-id").filter(function(){return b(this).val()==e}).closest(".vtabs-content").data("featured_id");b("#vtabs #tab-container > li").find('a[data-featured_id="'+c+'"]').trigger("click")}b("a[data-redirect-after-save]").click(function(){if(k.isLocked()){return false}var l=b(this).attr("data-redirect-after-save");var m=b("<input>").attr("type","hidden").attr("name","redirect_after_save").val(l);b("#form-multi_featured").append(b(m)).submit();return false});$globalActions=b("#global-actions");$globalTabs=b("#global-tabs");if(b.cookie("global_tabs_selected")){$globalTabs.children("li").children("a").eq(b.cookie("global_tabs_selected")).trigger("click")}$globalTabs.children("li").click(function(){b.cookie("global_tabs_selected",b(this).index());return true});d.css({display:"block"});b(".ajax-loader").hide();k.settings.afterInit.call()},isXs:function(){return b(window).width()<768},setVtabsHeight:function(){var d=this;var c=b("#vtabs");if(d.isXs()){c.height("auto").css("min-height","0")}else{c.height("100%").css("min-height",b("#vtabs-content-container").height())}},setVtabsStyles:function(){var d=this;var c=b("#vtabs");if(d.isXs()){c.find("#tab-container").removeClass("nav-tabs tabs-left").addClass("nav-pills nav-stacked")}else{c.find("#tab-container").removeClass("nav-pills nav-stacked").addClass("nav-tabs tabs-left")}},initFeaturedProductLists:function(){var f=this;f.resizableScrollbox(b(".scrollbox"));var c=b("#vtabs");b(document).on("click","#vtabs #tab-container > li",function(){c.find("#tab-container li").removeClass("active");c.find("#tab-container li a").each(function(h,g){b(b(g).attr("href")).hide()});b(this).addClass("active");b(b(this).find("a").attr("href")).show();f.setVtabsHeight();f.setVtabsStyles();b.cookie("multi_featured_selected_tab",b(this).index());return false});if(b.cookie("multi_featured_selected_tab")){var e=c.find("#tab-container").children("li").eq(b.cookie("multi_featured_selected_tab"));if(e.length>0){e.trigger("click")}else{c.find("#tab-container").children("li").first().trigger("click")}}b(document).on("focus","input.input-product-autocomplete",function(){var g=b(this).siblings("label").find("input");var h=b("#token").val();b(this).autocomplete({delay:500,source:function(k,j){var l={token:h,filter_name:k.term,incl_dab_prods:0};if(f.settings.is_mijoshop){l.option="com_mijoshop";l.format="raw"}if(g.is(":checked")){l.incl_dab_prods=1}b(".ajax-loader").show();b.ajax({url:"index.php?route=module/multi_featured/autocomplete&"+b.param(l),dataType:"json",success:function(m){b(".ajax-loader").hide();j(b.map(m,function(n){return{label:n.name,value:n.product_id}}))}})},select:function(l,n){var k=Number(b(this).parents(".vtabs-content").attr("data-featured_id"));b("#multi-featured-"+k+"-product"+n.item.value).remove();var j='                 <div id="multi-featured-'+k+"-product"+n.item.value+'">                   <i class="ic-move-up fa fa-arrow-circle-up green"></i>                   <i class="ic-move-down fa fa-arrow-circle-down gray"></i>                   <i class="ic-delete fa fa-minus-circle red"></i>                   <span>'+n.item.label+'</span>                   <input type="hidden" value="'+n.item.value+'" />                 </div>';b("#multi-featured-"+k+"-product").append(j);$div=b("#multi-featured-"+k+"-product > div");$div.find(".ic-move-up, .ic-move-down").removeClass("gray").addClass("green");$div.first().find(".ic-move-up").removeClass("green").addClass("gray");$div.last().find(".ic-move-down").removeClass("green").addClass("gray");var m=b.map(b("#multi-featured-"+k+"-product input"),function(o){return b(o).attr("value")});b("input[name='multi_featured_"+k+"[product]']").attr("value",m.join());return false},focus:function(j,k){return false}})});b(document).on("click",".input-checkbox-incl-dab-prods",function(h){var g=b(this);$checkboxes=b(".input-checkbox-incl-dab-prods");$checkboxes.each(function(k,j){if(g.is(":checked")){b(j).attr("checked",true)}else{b(j).attr("checked",false)}})});b(document).on("mouseover",".scrollbox-multi-featured-product",function(){b(this).sortable({items:"div",cursor:"move",axis:"y",opacity:0.75,helper:d,start:function(g,h){},stop:function(g,j){$div=b("div",this);$div.find(".ic-move-up, .ic-move-down").removeClass("gray").addClass("green");$div.first().find(".ic-move-up").removeClass("green").addClass("gray");$div.last().find(".ic-move-down").removeClass("green").addClass("gray");var h=b.map(b(this).find("input:hidden"),function(k){return b(k).val()}).join(",");b(this).closest(".vtabs-content").find(".input-product").val(h)}})});function d(j,g){var h=g.children();var k=g.clone();k.children().each(function(l){b(this).width(h.eq(l).width())});return k}b(document).on({click:function(l){var h=Number(b(this).parents(".vtabs-content").data("featured_id"));var g=Number(b(this).siblings("input").val());var j=b("#multi-featured-"+h+"-product"+g);if(b(l.target).is(".ic-move-up")){j.prev().before(j)}else{if(b(l.target).is(".ic-move-down")){j.next().after(j)}else{if(b(l.target).is(".ic-delete")){j.hide()}else{return false}}}$div=b(this).closest(".scrollbox").children("div:visible");$div.find(".ic-move-up, .ic-move-down").removeClass("gray").addClass("green");$div.first().find(".ic-move-up").removeClass("green").addClass("gray");$div.last().find(".ic-move-down").removeClass("green").addClass("gray");if(b(l.target).is(".ic-delete")){j.remove()}var k=b.map(b("#multi-featured-"+h+"-product input"),function(m){return b(m).attr("value")});b("input[name='multi_featured_"+h+"[product]']").attr("value",k.join())}},".scrollbox-multi-featured-product > div:not(:first-child) > .ic-move-up, .scrollbox-multi-featured-product > div:not(:last-child) > .ic-move-down, .scrollbox-multi-featured-product > div > .ic-delete");b(".add-featured-content").click(function(){b(".ajax-loader").show(400,function(){f.getFeaturedContentForm();b(this).hide()});return false});if(!f.hasFeatured()){f.getFeaturedContentForm()}b(document).on("click","#vtabs #tab-container > li .fa-minus-circle",function(){if(f.isLocked()){return false}b("#locked").val(1);b(".ajax-loader").show();var g=Number(b(this).parent("a").attr("data-featured_id"));$selects=b(".select-module-featured-id","#module");if($selects.children("option[value='"+g+"']:selected").length>0){if(!confirm(a("text_confirm_delete_product_list"))){b(".ajax-loader").hide();b("#locked").val(0);return false}}b(this).closest("li").fadeOut(300).queue(function(){var h=b(this).find("a").attr("href");if(b(this).hasClass("active")){if(b(this).is(":first-child")){b(this).next("li").addClass("active");b(b(this).next("li").find("a").attr("href")).show();b.cookie("multi_featured_selected_tab",b(this).next("li").index())}else{b(this).prev("li").addClass("active");b(b(this).prev("li").find("a").attr("href")).show();b.cookie("multi_featured_selected_tab",b(this).prev("li").index())}}b(b(this).find("a").attr("href")).remove();b(this).remove();b("#multi-featured-count").val(c.find("li").length);c.find("#tab-container > li").each(function(l,j){var m=l+1;var k=b(j).find("a").attr("data-featured_id");b(j).find("a").attr("href","#tab-multi-featured-"+m);b(j).find("a").attr("data-featured_id",m);if(b.trim(b(j).find("span").text())===a("text_featured_content")+" "+k){b(j).find("span").text(a("text_featured_content")+" "+m)}});b("#vtabs-content-container > div").each(function(k,j){var l=k+1;b(this).find(".input-name").attr("name","multi_featured_"+l+"[name]");b(this).find(".input-product-autocomplete").attr("name","product_"+l);b(this).find("[name^=multi_featured_]").each(function(n,m){b(m).attr("name",b(m).attr("name").replace(/^multi_featured_[\d]+/,"multi_featured_"+l))});b(this).find("[id^=multi-featured-]").each(function(n,m){b(m).attr("id",b(m).attr("id").replace(/^multi-featured-[\d]+/,"multi-featured-"+l))});b(this).find("[for^=entry-], [id^=entry-]").each(function(o,n){var m=b(n).get(0).tagName.toLowerCase();if(m==="label"){b(n).prop("for",b(n).attr("for").replace(/^entry-([^.]+)-\d+/,"entry-$1-"+l))}else{b(n).prop("id",b(n).attr("id").replace(/^entry-([^.]+)-\d+/,"entry-$1-"+l))}});b(this).attr("id","tab-multi-featured-"+l);b(this).attr("data-featured_id",l)});$selects.children("option[value='"+g+"']").remove();$selects.each(function(k,j){b(j).find("option").each(function(m,l){if(Number(b(l).val())>Number(g)){if(b.trim(b(l).text())===a("text_featured_content")+" "+Number(b(l).val())){b(l).text(a("text_featured_content")+" "+m)}b(l).val(m)}})});if(!f.hasFeatured()){f.getFeaturedContentForm()}f.setVtabsHeight();f.setVtabsStyles();b(".ajax-loader").hide();b("#locked").val(0)});return false});b(document).on("change keyup paste",".input-name",function(){var h=Number(b(this).closest(".vtabs-content").attr("data-featured_id"));$tab=b("#vtabs").children("#tab-container").find("li").filter(function(j){return b(this).find("a").data("featured_id")===h});if(b.isEmptyObject($tab[0])){return false}var g=b.trim(b(this).val());if(!g){g=a("text_featured_content")+" "+h}$tab.children("a").find("span").text(g);b("#module").find(".select-module-featured-id").each(function(k,j){b(j).children("option").each(function(m,l){if(Number(b(l).val())===h){b(l).text(g)}})});return true});b(".vtabs-content").each(function(l,h){var k=b(h).attr("data-featured_id");var j=b("input[name='multi_featured_"+k+"[template]']");var g=b("input[name='multi_featured_"+k+"[template]']").prev(".input-template-underscore");if(b("input[name='multi_featured_"+k+"[use_default_template]']").is(":checked")){j.hide();g.hide()}else{j.show();g.show()}});b(document).on("click",".input-checkbox-use-default-template",function(g){$container=b(this).parent("label").next("div").find(".input-template-container");$input=$container.children(".input-template");$underscore=$container.children(".input-template-underscore");if(b(this).is(":checked")){$input.hide();$underscore.hide()}else{$input.show();$underscore.show()}return true});b(document).on("change keyup paste",".input-template",function(){var g=new Array();b.each(b(this).val().split(""),function(j,h){if(h.match(/[a-z_0-9]/g)){g.push(h)}});if(g.length>0){b(this).val(g.join(""))}else{b(this).val("")}});b(document).on("click",".scrollbox-check-all",function(){b(this).closest(".form-group").find(".scrollbox").find(":checkbox").prop("checked",true);return false});b(document).on("click",".scrollbox-uncheck-all",function(){b(this).closest(".form-group").find(".scrollbox").find(":checkbox").prop("checked",false);return false});b(document).on("change keyup paste","#entry-filter-tabs",function(h){var j=b.trim(b(h.target).val().toLowerCase());var l=b("#vtabs > #tab-container > li");var g=b("#tab-filter-no-result");g.hide();if(j===""){l.show();return false}if(l.length<=0){return false}var k=[];l.find("span").each(function(n,m){var p=b.trim(b(m).text().toLowerCase());var o=false;if(p.indexOf(j)>-1){o=true}if(o){k.push(b(m).closest("a").data("featured_id"))}});if(k.length>0){l.each(function(o,m){var n=b(m).children("a").data("featured_id");if(b.inArray(n,k)>=0){b(m).show()}else{b(m).hide()}});l.find("a[data-featured_id='"+k[0]+"']").trigger("click")}else{l.show();g.show()}return false})},resizableScrollbox:function(c){c.wrap("<div/>").css({overflow:"hidden"}).removeClass("well well-sm").parent().addClass("well well-sm").css({display:"inline-block",overflow:"hidden",height:function(){return b(".resizable",this).height()},width:function(){return b(".resizable",this).width()},paddingBottom:"12px",paddingRight:"12px"}).resizable().find(".scrollbox").css({overflow:"auto",width:"100%",height:"100%"})},isLocked:function(){if(Number(b("#locked").val())>0){return true}return false},hasFeatured:function(){if(b("#vtabs").find("#tab-container").children("li").length>0){return true}return false},getFeaturedContentForm:function(){var h=this;var k=b("#vtabs");var e=k.find("#tab-container li").length+1;var j="",f=h.settings.languages;b.each(f,function(q,r){j+='<div class="input-title-container">';j+='  <img class="img-flag" src="'+r.src+'" title="'+r.name+'" />';j+='  <input type="text" id="entry-title-'+e+"-"+r.language_id+'" class="input-title form-control" name="multi_featured_'+e+"[title]["+r.language_id+']" data-language_id="'+r.language_id+'" value="" />';j+="</div>"});var l="",o=h.settings.stores;b.each(o,function(r,q){l+='<div class="checkbox">';l+=" <label>";l+='   <input type="checkbox" name="multi_featured_'+e+'[stores][]" value="'+q.store_id+'" '+(q.store_id===0?'checked="checked"':"")+" />";l+="   "+q.name+"";l+=" </label>";l+="</div>"});var m="",p=h.settings.customer_groups;b.each(p,function(r,q){m+='<div class="checkbox">';m+=" <label>";m+='   <input type="checkbox" name="multi_featured_'+e+'[access_levels][]" value="'+q.customer_group_id+'" checked="checked" />';m+="   "+q.name+"";m+=" </label>";m+="</div>"});var g={link:'            <li>               <a href="" data-featured_id="" style="display: none;">                 <i class="fa fa-minus-circle red mrs"></i>                 <span></span>               </a>             </li>',content:'            <div id="tab-multi-featured-'+e+'" class="vtabs-content" data-featured_id="'+e+'" style="display: none;">               <input type="hidden" class="input-hidden-module-id form-control" name="multi_featured_'+e+'[module_id]" value="" />               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-name-'+e+'">                   <span data-toggle="tooltip" title="'+a("help_name")+'">'+a("entry_name")+'</span>                 </label>                 <div class="col-sm-10">                   <div class="row">                     <div class="col-xs-6">                       <input type="text" id="entry-name-'+e+'" class="input-name form-control" name="multi_featured_'+e+'[name]" value="" />                     </div>                   </div>                 </div>               </div>               <hr />               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-title-'+e+"-"+h.settings.primary_language["language_id"]+'">                   <span data-toggle="tooltip" title="'+a("help_title")+'">'+a("entry_title")+'</span>                 </label>                 <div class="col-sm-10">'+j+'</div>               </div>               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-title-link-'+e+'">                   <span data-toggle="tooltip" title="'+a("help_title_link")+'">'+a("entry_title_link")+'</span>                 </label>                 <div class="col-sm-10">                   <input type="text" id="entry-title-link-'+e+'" class="input-title-link form-control" name="multi_featured_'+e+'[title_link]" value="" />                 </div>               </div>               <hr />               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-product-autocomplete-'+e+'">                   <span data-toggle="tooltip" title="'+a("help_product")+'">'+a("entry_product")+'</span>                 </label>                 <div class="col-sm-10">                   <div class="row">                     <div class="col-xs-6">                       <input id="entry-product-autocomplete-'+e+'" class="input-product-autocomplete form-control" type="text" name="product_'+e+'" value="" placeholder="'+a("help_product")+'" />                     </div>                   </div>                   <div class="checkbox">                     <input type="hidden" class="input-hidden-incl-dab-prods" name="multi_featured_'+e+'[incl_dab_prods]" value="0" />                     <label>                       <input type="checkbox" class="input-checkbox-incl-dab-prods" name="multi_featured_'+e+'[incl_dab_prods]" value="1" />                       '+a("entry_incl_dab_prods")+'                     </label>                   </div>                   <div class="space-6"></div>                   <div id="multi-featured-'+e+'-product" class="well well-sm scrollbox scrollbox-multi-featured-product mb0">                   </div>                   <input type="hidden" class="input-product form-control" name="multi_featured_'+e+'[product]" value="" />                   <div class="disp-oos-prods checkbox">                     <input type="hidden" class="input-hidden-disp-oos-prods" name="multi_featured_'+e+'[disp_oos_prods]" value="0" />                     <label>                       <input type="checkbox" class="input-checkbox-disp-oos-prods" name="multi_featured_'+e+'[disp_oos_prods]" value="1" />                       '+a("entry_disp_oos_prods")+'                     </label>                   </div>                 </div>               </div>               <hr />               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-random-products-'+e+'">                   '+a("entry_random_products")+'                 </label>                 <div class="col-sm-10">                   <div class="radio">                     <label>                       <input type="radio" class="input-radio-random-products" name="multi_featured_'+e+'[random_products]" value="0" checked="checked" />                       '+a("text_random_products_0")+'                     </label>                   </div>                   <div class="radio">                     <label>                       <input type="radio" class="input-radio-random-products" name="multi_featured_'+e+'[random_products]" value="1" />                       '+a("text_random_products_1")+'                     </label>                   </div>                   <div class="radio">                     <label>                       <input type="radio" class="input-radio-random-products" name="multi_featured_'+e+'[random_products]" value="2" />                       '+a("text_random_products_2")+'                     </label>                   </div>                 </div>               </div>               <hr />               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-stores-'+e+'">                   <span data-toggle="tooltip" title="'+a("help_stores")+'">'+a("entry_stores")+'</span>                 </label>                 <div class="col-sm-10">                   <div class="well well-sm scrollbox mbm">                     '+l+'                   </div>                   <div class="check-uncheck-all-container">                     <a href="#" class="scrollbox-check-all btn btn-info btn-sm">'+a("text_check_all")+'</a>                     <a href="#" class="scrollbox-uncheck-all btn btn-warning btn-sm">'+a("text_uncheck_all")+'</a>                   </div>                 </div>               </div>               <hr />               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-access-levels-'+e+'">                   <span data-toggle="tooltip" title="'+a("help_access_levels")+'">'+a("entry_access_levels")+'</span>                 </label>                 <div class="col-sm-10">                   <div class="well well-sm scrollbox mbm">                     '+m+'                   </div>                   <div class="check-uncheck-all-container">                     <a href="#" class="scrollbox-check-all btn btn-info btn-sm">'+a("text_check_all")+'</a>                     <a href="#" class="scrollbox-uncheck-all btn btn-warning btn-sm">'+a("text_uncheck_all")+'</a>                   </div>                 </div>               </div>               <hr />               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-template-'+e+'">                   <span data-toggle="tooltip" title="'+a("help_template")+'">'+a("entry_template")+'</span>                 </label>                 <div class="col-sm-10">                   <input type="hidden" class="input-hidden-use-default-template" name="multi_featured_'+e+'[use_default_template]" value="0" />                   <label>                     <input type="checkbox" class="input-checkbox-use-default-template" name="multi_featured_'+e+'[use_default_template]" value="1" checked="checked" />                     '+a("entry_use_default_template")+'                   </label>                   <div class="well well-sm">                     <div class="input-template-container form-inline">                       multi_featured<span class="input-template-underscore" style="display: none;">_</span>                       <input type="text" class="input-template form-control" name="multi_featured_'+e+'[template]" value="" style="display: none;" />.tpl                     </div>                   </div>                 </div>               </div>               <hr />               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-stylesheet-'+e+'">                   <span data-toggle="tooltip" title="'+a("help_stylesheet")+'">'+a("entry_stylesheet")+'</span>                 </label>                 <div class="col-sm-10">                   <input type="hidden" class="input-hidden-use-default-stylesheet" name="multi_featured_'+e+'[use_default_stylesheet]" value="0" />                   <label>                     <input type="checkbox" class="input-checkbox-use-default-stylesheet" name="multi_featured_'+e+'[use_default_stylesheet]" value="1" />                     '+a("entry_use_default_stylesheet")+'                   </label>                   <div class="textarea-stylesheet-container">                     <textarea id="entry-stylesheet-'+e+'" class="textarea-stylesheet form-control" name="multi_featured_'+e+'[stylesheet]" rows="2"></textarea>                   </div>                 </div>               </div>               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-javascript-'+e+'">                   <span data-toggle="tooltip" title="'+a("help_javascript")+'">'+a("entry_javascript")+'</span>                 </label>                 <div class="col-sm-10">                   <textarea id="entry-javascript-'+e+'" class="textarea-javascript form-control" name="multi_featured_'+e+'[javascript]" rows="2"></textarea>                 </div>               </div>               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-params-'+e+'">                   <span data-toggle="tooltip" title="'+a("help_params")+'">'+a("entry_params")+'</span>                 </label>                 <div class="col-sm-10">                   <textarea id="entry-params-'+e+'" class="textarea-params form-control" name="multi_featured_'+e+'[params]" rows="2"></textarea>                 </div>               </div>               <hr />               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-limit-'+e+'">                   '+a("entry_limit")+'                 </label>                 <div class="col-sm-10">                   <div class="row">                     <div class="col-sm-6 col-md-4">                       <input type="text" id="entry-limit-'+e+'" class="input-limit form-control" name="multi_featured_'+e+'[limit]" value="'+h.settings.module_limit+'" />                     </div>                   </div>                 </div>               </div>               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-width-'+e+'">                   '+a("entry_width")+'                 </label>                 <div class="col-sm-10">                   <div class="row">                     <div class="col-sm-6 col-md-4">                       <input type="text" id="entry-width-'+e+'" class="input-width form-control" name="multi_featured_'+e+'[width]" value="'+h.settings.module_image.width+'" />                     </div>                   </div>                 </div>               </div>               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-height-'+e+'">                   '+a("entry_height")+'                 </label>                 <div class="col-sm-10">                   <div class="row">                     <div class="col-sm-6 col-md-4">                       <input type="text" id="entry-height-'+e+'" class="input-height form-control" name="multi_featured_'+e+'[height]" value="'+h.settings.module_image.height+'" />                     </div>                   </div>                 </div>               </div>               <div class="form-group">                 <label class="col-sm-2 control-label" for="entry-status-'+e+'">                   '+a("entry_status")+'                 </label>                 <div class="col-sm-10">                   <div class="row">                     <div class="col-sm-6 col-md-4">                       <select id="entry-status-'+e+'" class="select-status form-control" name="multi_featured_'+e+'[status]">                         <option value="1">'+a("text_enabled")+'</option>                         <option value="0" selected="selected">'+a("text_disabled")+"</option>                       </select>                     </div>                 </div>               </div>             </div>"};k.find("#tab-container").append(g.link);var d=k.find("#tab-container li");var n=d.last();n.children("a").prop("href","#tab-multi-featured-"+e).attr("data-featured_id",e).find("span").text(a("text_featured_content")+" "+e).end().fadeIn(300);d.removeClass("active");d.children("a").each(function(r,q){b(b(q).attr("href")).hide()});n.addClass("active");b.cookie("multi_featured_selected_tab",n.index());b("#vtabs-content-container").append(g.content).children(".vtabs-content").last().show();var c=b(n.find("a").attr("href"));if(b(".input-checkbox-incl-dab-prods").first().is(":checked")){c.find(".input-checkbox-incl-dab-prods").attr("checked",true)}else{c.find(".input-checkbox-incl-dab-prods").attr("checked",false)}b("#multi-featured-count").val(k.find("#tab-container li").length);b(".select-module-featured-id").append(b("<option></option>").attr("value",e).text(a("text_featured_content")+" "+e));b("#tab-multi-featured-"+e).find("[data-toggle='tooltip']").tooltip({container:"body",html:true});h.resizableScrollbox(b("#tab-multi-featured-"+e).find(".scrollbox"));return true},initModule:function(){var c=this;b("#button-add-module").click(function(){var e=Math.random().toString(36).substr(2);var f=Number(b("#multi-featured-count").val());html='<tbody id="module-row'+e+'">';html+="  <tr>";html+='    <td class="text-right">'+(b("#module tbody").length+1)+"</td>";html+='    <td class="text-left">';html+='      <select class="select-module-featured-id form-control input-sm" name="multi_featured_module['+e+'][featured_id]">';html+='        <option value=""></option>';for(i=1;i<=f;i++){html+='        <option value="'+i+'">'+a("text_featured_content")+" "+i+"</option>"}html+="      </select>";html+="    </td>";html+='    <td class="text-left"><input class="input-module-limit form-control input-sm" type="text" name="multi_featured_module['+e+'][limit]" value="'+c.settings.module_limit+'" /></td>';html+='    <td class="text-left">';html+='      <div class="row">';html+='        <div class="col-xs-6 prs">';html+='          <input type="text" class="input-module-width form-control input-sm" name="multi_featured_module['+e+'][width]" value="'+c.settings.module_image.width+'" />';html+="        </div>";html+='        <div class="col-xs-6 pls">';html+='          <input type="text" class="input-module-height form-control input-sm" name="multi_featured_module['+e+'][height]" value="'+c.settings.module_image.height+'" />';html+="        </div>";html+="      </div>";html+="    </td>";html+='    <td class="text-left"><select class="select-module-status form-control input-sm" name="multi_featured_module['+e+'][status]">';html+='      <option value="1" selected="selected">'+a("text_enabled")+"</option>";html+='      <option value="0">'+a("text_disabled")+"</option>";html+="    </select></td>";html+='    <td class="text-left">';html+='      <a href="#" class="'+c.settings.button_class+' btn btn-danger" data-toggle="tooltip" title="'+a("button_remove")+'"><i class="fa fa-minus-circle"></i></a>';html+="    </td>";html+="  </tr>";html+="</tbody>";b("#module tfoot").before(html);var d=b("select[name='multi_featured_module["+e+"][featured_id]']");d.children("option").each(function(){if(b(this).val()!==""){b(this).remove()}});b("#vtabs #tab-container > li > a").each(function(h,g){d.append(b("<option></option>").prop("value",Number(b(g).attr("data-featured_id"))).text(b.trim(b(g).find("span").text())))});b("#module > thead > .filter").show();b("#module > tbody").last().find("[data-toggle='tooltip']").tooltip({container:"body",html:true});return false});b("#module > thead > .filter").find(":input").on("change keyup",function(h){b("#module > tbody").hide();var f=false;b("#module > thead > .filter").find(":input").each(function(j,e){if(b(e).attr("data-class")){if(b(e).val()){f=true;return false}}});if(!f){b("#module > tbody").show();return false}var g=[];b("#module > thead > .filter").find(":input").each(function(k,j){var n=b(j).val().toLowerCase();var m=[];var e=b(j).attr("data-class");if(e){var l=b(j).get(0).tagName.toLowerCase();b("#module").find(e).each(function(p,o){var q=b(o).get(0).tagName.toLowerCase();var r=false;switch(l){case"input":if(q=="input"){if(b(o).val().toLowerCase().indexOf(n)>-1){r=true}}else{if(q=="select"){if(b.trim(b(o).children("option:selected").text()).toLowerCase().indexOf(n)>-1){r=true}}}break;case"select":if(q=="select"){if(n=="*"){r=true}else{if(b.trim(b(o).children("option:selected").val()).toLowerCase().indexOf(n)>-1){r=true}}}break}if(r){m.push(b(this).parents("tbody").attr("id"))}});g.push(m)}});if(g.length>0){var d=g.shift().reduce(function(j,e){if(j.indexOf(e)===-1&&g.every(function(k){return k.indexOf(e)!==-1})){j.push(e)}return j},[]);b.each(d,function(j,e){b("#"+e).show()})}return false});b(document).on("click",".select-module-featured-id",function(h){var f=Number(b(this).val());var d=b("#vtabs");var g=d.find("#tab-container > li > a[data-featured_id='"+f+"']");if(f>0){d.find("#tab-container > li").removeClass("active");d.find("#tab-container > li").each(function(j,e){b(b(e).find("a").attr("href")).hide()});g.closest("li").addClass("active");b(g.attr("href")).show()}});b("#module").find("#button-clear-filters").click(function(){b("#module > thead > .filter").find(":input").val("");b("#module > tbody").show();return false});if(b("#module > tbody").length>0){b("#module").find(".filter").show()}b(document).on("click","#module > tbody > tr > td > a.btn-danger",function(){b("#module-row").val(Number(b("#module-row").val())-1);b(this).tooltip("destroy");if(b("#module-row").val()<=0){b("#module").find(".filter").hide()}b(this).closest("tbody").remove();return false})},validateMaxInputvars:function(){var d=Number(b("#max-input-vars").val());if(d){var c=b("#form-multi_featured").find("input, select, textarea").length;if(c>=d){b(".panel-heading").after('               <div class="panel-body">                 <div class="alert alert-danger">                   <p>                     <i class="fa fa-exclamation-circle"></i> Warning: Input variables exceeded '+d+'                     <button type="button" class="close" data-dismiss="alert">&times;</button>                   </p>                   <p>To increase the limit, do one of the following, as appropriate:</p>                   <ul>                     <li>                       Change max_input_vars in your global php.ini (Apache/Nginx)<br>                       max_input_vars = '+(d*10)+";                     </li>                     <li>                       Add max_input_vars to [YOUR OPENCART ROOT DIRECTORY]/admin/php.ini (Apache only)<br>                       max_input_vars = "+(d*10)+";                     </li>                     <li>                       Add php_value to [YOUR OPENCART ROOT DIRECTORY]/.htaccess. (Apache only)<br>                       php_value max_input_vars "+(d*10)+"                     </li>                   </ul>                 </div>               </div>             ");return false}}return true},version_compare:function(k,j,e){this.php_js=this.php_js||{};this.php_js.ENV=this.php_js.ENV||{};var f=0,d=0,h=0,g={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},c=function(l){l=(""+l).replace(/[_\-+]/g,".");l=l.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".");return(!l.length?[-8]:l.split("."))};numVersion=function(l){return !l?0:(isNaN(l)?g[l]||-7:parseInt(l,10))};k=c(k);j=c(j);d=Math.max(k.length,j.length);for(f=0;f<d;f++){if(k[f]==j[f]){continue}k[f]=numVersion(k[f]);j[f]=numVersion(j[f]);if(k[f]<j[f]){h=-1;break}else{if(k[f]>j[f]){h=1;break}}}if(!e){return h}switch(e){case">":case"gt":return(h>0);case">=":case"ge":return(h>=0);case"<=":case"le":return(h<=0);case"==":case"=":case"eq":return(h===0);case"<>":case"!=":case"ne":return(h!==0);case"":case"<":case"lt":return(h<0);default:return null}}}});b.fn.extend({multiFeatured:function(c){return b.multiFeatured.init(this,c)}})})(jQuery);